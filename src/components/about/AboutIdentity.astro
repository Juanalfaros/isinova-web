---
// src/components/about/AboutEcosystem.astro
---

<section class="section-ecosystem" aria-labelledby="philosophy-title">
    <div class="bg-decoration"></div>

    <div class="container">
        <div class="ecosystem-grid">
            <div class="content-wrapper">
                <div class="badge-wrapper">
                    <span class="section-badge primary">Nuestra Filosofía</span>
                </div>
                
                <h2 id="philosophy-title" class="section-title sm">
                    No construimos islas, <br />
                    <span class="highlight-brand primary text-span">orquestamos ecosistemas.</span>
                </h2>
                
                <p class="lead">
                    La educación no necesita más software complejo; necesita 
                    que tus herramientas hablen el mismo idioma.
                </p>
                
                <div class="description">
                    <p>
                        Rompemos los silos de información. Nuestra arquitectura de 
                        <strong>Interoperabilidad Nativa</strong> convierte tu institución 
                        en un organismo vivo, donde el flujo de datos entre lo académico, 
                        lo administrativo y lo financiero es invisible y automático.
                    </p>
                </div>

                <ul class="features-list">
                    <li>
                        <i class="ph-fill ph-check-circle"></i>
                        <span>Sincronización en tiempo real</span>
                    </li>
                    <li>
                        <i class="ph-fill ph-check-circle"></i>
                        <span>Experiencia de usuario unificada</span>
                    </li>
                </ul>
            </div>

            <div class="visual-wrapper" aria-hidden="true">
                <div class="orbit-system">
                    
                    <svg class="connections-svg" viewBox="0 0 400 400">
                        <defs>
                            <linearGradient id="gradientLine" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" stop-color="var(--primary-light)" stop-opacity="0" />
                                <stop offset="50%" stop-color="var(--primary)" stop-opacity="1" />
                                <stop offset="100%" stop-color="var(--accent)" stop-opacity="1" />
                            </linearGradient>
                        </defs>

                        <path id="path-1" d="M200,60 Q200,150 200,200" class="connection-path" />
                        <path id="path-2" d="M80,320 Q150,280 200,200" class="connection-path" />
                        <path id="path-3" d="M320,320 Q250,280 200,200" class="connection-path" />

                        <circle r="3" class="data-particle">
                            <animateMotion dur="3s" repeatCount="indefinite" keyPoints="0;1" keyTimes="0;1">
                                <mpath href="#path-1"/>
                            </animateMotion>
                        </circle>
                        <circle r="3" class="data-particle" style="animation-delay: 1s">
                            <animateMotion dur="4s" repeatCount="indefinite" keyPoints="0;1" keyTimes="0;1">
                                <mpath href="#path-2"/>
                            </animateMotion>
                        </circle>
                        <circle r="3" class="data-particle" style="animation-delay: 0.5s">
                            <animateMotion dur="3.5s" repeatCount="indefinite" keyPoints="0;1" keyTimes="0;1">
                                <mpath href="#path-3"/>
                            </animateMotion>
                        </circle>
                    </svg>

                    <div class="node hub">
                        <div class="hub-core">
                            <i class="ph-fill ph-arrows-merge"></i>
                        </div>
                        <div class="hub-rings"></div>
                    </div>

                    <div class="node satellite sat-1">
                        <div class="icon-box"><i class="ph-duotone ph-graduation-cap"></i></div>
                        <span class="label">LMS</span>
                        <div class="status-dot"></div>
                    </div>

                    <div class="node satellite sat-2">
                        <div class="icon-box"><i class="ph-duotone ph-chart-pie-slice"></i></div>
                        <span class="label">ERP</span>
                        <div class="status-dot"></div>
                    </div>

                    <div class="node satellite sat-3">
                        <div class="icon-box"><i class="ph-duotone ph-users-three"></i></div>
                        <span class="label">CRM</span>
                        <div class="status-dot"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>

    .section-ecosystem {
        padding: 6rem 0;
        position: relative;
        overflow: hidden;
        background-color: #f8fafc; /* Slate 50 */
    }

    .bg-decoration {
        position: absolute;
        top: -10%;
        right: -5%;
        width: 600px;
        height: 600px;
        background: radial-gradient(circle, rgba(99,102,241,0.08) 0%, rgba(255,255,255,0) 70%);
        border-radius: 50%;
        z-index: 0;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.5rem;
        position: relative;
        z-index: 1;
    }

    .ecosystem-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 4rem;
        align-items: center;
    }



    .title {
        font-size: 2.5rem;
        line-height: 1.1;
        font-weight: 800;
        color: var(--text-main);
        margin-bottom: 1.5rem;
        letter-spacing: -0.02em;
    }

    .text-gradient {
        background: linear-gradient(90deg, var(--primary), var(--accent));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .lead {
        font-size: 1.25rem;
        color: var(--text-main);
        font-weight: 500;
        margin-bottom: 1.5rem;
        line-height: 1.5;
    }

    .description p {
        color: var(--text-muted);
        line-height: 1.7;
        margin-bottom: 2rem;
    }

    .features-list {
        list-style: none;
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .features-list li {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        color: var(--text-main);
        font-weight: 500;
    }

    .features-list i {
        color: var(--accent);
        font-size: 1.25rem;
    }

    /* --- VISUAL (Diagrama) --- */
    .visual-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        perspective: 1000px;
    }

    .orbit-system {
        position: relative;
        width: 400px;
        height: 400px;
    }

    /* SVG Connections */
    .connections-svg {
        position: absolute;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
    }

    .connection-path {
        fill: none;
        stroke: #cbd5e1; /* Slate 300 */
        stroke-width: 1.5;
        stroke-dasharray: 6 4;
        opacity: 0.6;
    }

    .data-particle {
        fill: var(--primary);
        filter: drop-shadow(0 0 4px var(--primary));
    }

    /* NODOS */
    .node {
        position: absolute;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: default;
    }

    /* HUB CENTRAL */
    .hub {
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
    }

    .hub-core {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 2rem;
        box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3);
        position: relative;
        z-index: 2;
    }

    .hub-rings {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 140px;
        height: 140px;
        border: 1px solid rgba(99, 102, 241, 0.2);
        border-radius: 50%;
        z-index: 1;
        animation: pulse-ring 3s infinite ease-out;
    }

    .hub-rings::before {
        content: '';
        position: absolute;
        inset: -20px;
        border: 1px solid rgba(99, 102, 241, 0.1);
        border-radius: 50%;
        animation: pulse-ring 3s infinite ease-out 0.5s;
    }

    /* SATÉLITES */
    .satellite {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(12px);
        padding: 0.75rem 1.25rem;
        border-radius: 1rem;
        border: 1px solid rgba(255, 255, 255, 0.6);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.05);
        display: flex;
        flex-direction: row; /* Layout horizontal para las tarjetas */
        align-items: center;
        width: auto;
    }

    .satellite:hover {
        transform: scale(1.05) translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        border-color: var(--primary-light);
    }

    .icon-box {
        color: var(--primary);
        font-size: 1.25rem;
        margin-right: 0.5rem;
    }

    .satellite .label {
        font-weight: 700;
        font-size: 0.875rem;
        color: var(--text-main);
    }

    .status-dot {
        width: 8px;
        height: 8px;
        background-color: #22c55e; /* Green 500 */
        border-radius: 50%;
        margin-left: 0.75rem;
        box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.2);
    }

    /* Posiciones */
    .sat-1 {
        top: 15%; /* Mismo que el path SVG M200,60 pero en CSS */
        left: 50%;
        transform: translate(-50%, -50%);
        animation: float 6s ease-in-out infinite;
    }

    .sat-2 {
        bottom: 20%;
        left: 20%;
        transform: translate(-50%, -50%);
        animation: float 6s ease-in-out infinite 2s;
    }

    .sat-3 {
        bottom: 20%;
        right: 20%;
        transform: translate(50%, -50%);
        animation: float 6s ease-in-out infinite 4s;
    }

    /* Animations */
    @keyframes pulse-ring {
        0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.5; }
        100% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; }
    }

    @keyframes float {
        0%, 100% { margin-top: 0; }
        50% { margin-top: -10px; }
    }

    /* Responsive */
    @media (min-width: 992px) {
        .ecosystem-grid {
            grid-template-columns: 1fr 1fr;
            gap: 6rem;
        }
        .title { font-size: 3rem; }
    }

    @media (max-width: 768px) {
        .orbit-system {
            transform: scale(0.8);
        }
        .visual-wrapper {
            margin-top: 2rem;
        }
    }
</style>